@import "tailwindcss";

/* ---------------------------------------------------------------------------
   Theme tokens — CSS custom properties driven by [data-theme] on <html>
   Default: dark (matches AppThemeDark layer)
   --------------------------------------------------------------------------- */

:root,
[data-theme="dark"] {
  --bg: #0f1117;
  --surface: #1a1f2e;
  --surface-2: #242938;
  --border: #2a3040;
  --text-1: #e8eaf0;
  --text-2: #8892a4;
  --accent: #5b9cf5;
  --signal: #f0a050;
  --success: #50c878;
  --warning: #f0a050; /* intentionally matches --signal */
  --error: #f06050;
}

[data-theme="light"] {
  --bg: #f8f9fc;
  --surface: #ffffff;
  --surface-2: #f1f3f8;
  --border: #e2e5ec;
  --text-1: #1a1f2e;
  --text-2: #6b7280;
  --accent: #2563eb;
  --signal: #d97706;
  --success: #16a34a;
  --warning: #d97706; /* intentionally matches --signal */
  --error: #dc2626;
}

/* ---------------------------------------------------------------------------
   Navigation
   --------------------------------------------------------------------------- */

.nav-link {
  @apply inline-flex px-3 py-1.5 text-sm no-underline rounded-md transition-colors;
  color: var(--text-2);
  &:hover {
    background: var(--surface-2);
    color: var(--text-1);
  }
  &:focus-visible {
    outline: 2px solid var(--accent);
    outline-offset: 2px;
  }
  &[data-active="true"] {
    background: color-mix(in srgb, var(--accent) 12%, transparent);
    color: var(--accent);
    font-weight: 500;
  }
}

/* ---------------------------------------------------------------------------
   Theme toggle
   --------------------------------------------------------------------------- */

.theme-toggle {
  @apply flex items-center justify-center w-8 h-8 rounded-md border-0 cursor-pointer transition-colors;
  background: transparent;
  color: var(--text-2);
  &:hover {
    background: var(--surface-2);
    color: var(--text-1);
  }
  &:focus-visible {
    outline: 2px solid var(--accent);
    outline-offset: 2px;
  }
}

/* ---------------------------------------------------------------------------
   Theme icons — CSS masks so currentColor flows through on hover
   --------------------------------------------------------------------------- */

.theme-icon {
  display: block;
  width: 18px;
  height: 18px;
  background-color: currentColor;
  mask-size: contain;
  mask-repeat: no-repeat;
  mask-position: center;
  -webkit-mask-size: contain;
  -webkit-mask-repeat: no-repeat;
  -webkit-mask-position: center;
}

.theme-icon-moon {
  mask-image: url("/icon-moon.svg");
  -webkit-mask-image: url("/icon-moon.svg");
}

.theme-icon-sun {
  display: none;
  mask-image: url("/icon-sun.svg");
  -webkit-mask-image: url("/icon-sun.svg");
}

/* Light mode: swap icons */
[data-theme="light"] .theme-icon-moon { display: none; }
[data-theme="light"] .theme-icon-sun { display: block; }

/* ---------------------------------------------------------------------------
   Theme transition
   --------------------------------------------------------------------------- */

body {
  transition: background-color 150ms ease, color 150ms ease;
}

header {
  transition: background-color 150ms ease, border-color 150ms ease;
}
